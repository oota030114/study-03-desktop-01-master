<html>
    <head>
        <title>eelテスト</title>
        <link rel="stylesheet" href="./style.css">
        <link rel="icon" href="data:,">
    </head>
    <body>
        <h2>eelテスト</h2>
        <tr>
            <td> 検索ワード：</td>
            <td><input type="text" id=textData name="searchWord" size="30" maxlength="20"></td>
            <td><button id="search" type="button" name="searchBtn" value="searchBtnValue">検索</button></td>
        </tr>

        <p>
            <label for="kekka">検索結果</label><br>
            <textarea readonly id="kekka" name="kekka" cols="80" rows="20" maxlength="100"></textarea>
        </p>

        <script type="text/javascript" src="./eel.js"></script>
        <script>
            const search = document.getElementById("search");
            search.addEventListener('click', () => {
                if(textData.value==""){
                    alert("検索ワードを入力してください！");
                }else{
                    eel.kimetsu_search(textData.value);
                }
            });
            
            eel.expose(view_log_js)
            function view_log_js(sourcejson){
                var arData = new Array();
                var jsonData = JSON.stringify(sourcejson);
                jsonData = jsonData.replace('\""','');
                var arData = jsonData.split(',');
                // words = str.split(',');
                // console.log(jsonData);
                // let jsData="";
                // for(let i=0; i<10; i++){
                //     jsData=JSON.stringify(sourcejson[i]);
                //     console.log(jsData);
                // }
                
                var str = ""
                for(i=0; i < arData.length; i++){
                    str = str + '\n' + arData[i];
                }
                kekka.value=str;
            }
        </script>
    </body>
</html>